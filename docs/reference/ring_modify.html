<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Edit ring borders visually — ring_modify • MtreeRing</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Edit ring borders visually — ring_modify" />

<meta property="og:description" content="This function can remove existing ring borders 
or add new borders." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MtreeRing</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/app-MtreeRing.html">A Simple Workflow for Shiny App</a>
    </li>
    <li>
      <a href="../articles/detection-MtreeRing.html">MtreeRing: Measuring Tree Ring Width in R</a>
    </li>
    <li>
      <a href="../articles/pith-MtreeRing.html">Measure Tree Rings on Pith Side</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/MtreeRing">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Edit ring borders visually</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/MtreeRing/blob/master/R/ring_modify.R'><code>R/ring_modify.R</code></a></small>
    <div class="hidden name"><code>ring_modify.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function can remove existing ring borders 
or add new borders.</p>
    
    </div>

    <pre class="usage"><span class='fu'>ring_modify</span>(<span class='no'>ring.data</span>, <span class='kw'>del</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>del.u</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>del.l</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ring.data</th>
      <td><p>A matrix or array produced by <code><a href='ring_detect.html'>ring_detect</a></code>.</p></td>
    </tr>
    <tr>
      <th>del</th>
      <td><p>A numeric vector giving the border numbers to be removed.</p></td>
    </tr>
    <tr>
      <th>del.u</th>
      <td><p>A numeric vector giving the border numbers to be removed 
on the upper path.</p></td>
    </tr>
    <tr>
      <th>del.l</th>
      <td><p>A numeric vector giving the border numbers to be removed 
on the lower path.</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>A logical value indicating whether to add new ring borders.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A matrix (grayscale image) or array (color image)
representing the tree ring image.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is used to remove existing ring borders, or to add new 
borders by interactively clicking on the image segments.</p>
<p>If the user creates one path (<code>incline = FALSE</code>), the argument 
<code>del</code> is used to remove ring borders. If the user creates two paths 
(<code>incline = TRUE</code>), arguments <code>del.u</code> and <code>del.l</code> are used 
to remove ring borders.</p>
<p>If <code>add = TRUE</code>, graphics windows opened by <code><a href='ring_detect.html'>ring_detect</a></code>
will be activated sequentially. When a graphics window is activated, 
the user can add new borders by left-clicking the mouse along the path.
Every click draws a point representing the ring border.
Type <code><a href='../articles/detection-MtreeRing.html'>vignette('detection-MtreeRing')</a></code> to see 
an example of adding ring borders.</p>
<p>The identification process does not automatically stop by itself.</p>
<ul>
<li><p>On the Windows system, the identification process can be terminated by 
  pressing the right mouse button and selecting <b>Stop</b> from the menu.</p></li>
<li><p>On the MacOS system, for a X11 device the identification process is 
  terminated by pressing any mouse button other than the first, and for a 
  quartz device this process is terminated by pressing the <b>ESC</b> key.</p></li>
</ul>
    <p>Once the user terminates the identification process, the current 
graphics window will be closed automatically, and the graphics window of
the following segment is activated. When all graphics windows are closed,
<code>ring_modify</code> will re-open graphics windows and plot new borders.</p>
<p>This function can perform both deletion and addition in one call.
The removal of ring borders takes precedence over addition.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>img.path</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"001.png"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"MtreeRing"</span>)

<span class='co'>## Read a tree ring image:</span>
<span class='no'>t1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ring_read.html'>ring_read</a></span>(<span class='kw'>img</span> <span class='kw'>=</span> <span class='no'>img.path</span>, <span class='kw'>dpi</span> <span class='kw'>=</span> <span class='fl'>1200</span>)

<span class='co'>## Split a long core sample into 3 pieces to</span>
<span class='co'>## get better display performance and use the</span>
<span class='co'>## watershed algorithm to detect ring borders:</span>
<span class='no'>t2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ring_detect.html'>ring_detect</a></span>(<span class='kw'>ring.data</span> <span class='kw'>=</span> <span class='no'>t1</span>, <span class='kw'>seg</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>'watershed'</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: The sampling year is set to the current year</span></div><div class='output co'>#&gt; <span class='message'>dev.new(): using pdf(file="Rplots36.pdf")</span></div><div class='output co'>#&gt; <span class='message'>dev.new(): using pdf(file="Rplots37.pdf")</span></div><div class='output co'>#&gt; <span class='message'>dev.new(): using pdf(file="Rplots38.pdf")</span></div><div class='input'>
<span class='co'>## Do not modify t2, but create a new array object t3. </span>
<span class='co'>## Remove some borders without adding new borders:</span>
<span class='no'>t3</span> <span class='kw'>&lt;-</span> <span class='fu'>ring_modify</span>(<span class='kw'>ring.data</span> <span class='kw'>=</span> <span class='no'>t2</span>, <span class='kw'>del</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>3</span>, <span class='fl'>5</span>, <span class='fl'>19</span>:<span class='fl'>21</span>), <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>dev.new(): using pdf(file="Rplots39.pdf")</span></div><div class='output co'>#&gt; <span class='message'>dev.new(): using pdf(file="Rplots40.pdf")</span></div><div class='output co'>#&gt; <span class='message'>dev.new(): using pdf(file="Rplots41.pdf")</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Jingning Shi</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jingning Shi, Wei Xiang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

